<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Info Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f3f4f6;
        }
        .info-card {
            transition: all 0.3s ease;
        }
        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">
                <i class="fas fa-microchip text-blue-600 mr-2"></i>System-Analyse
            </h1>
            <p class="text-gray-600">Daten, die dein Browser preisgibt</p>
        </div>

        <!-- IP Address Section (The tricky part) -->
        <div class="bg-blue-600 rounded-lg shadow-lg p-6 mb-6 text-white text-center">
            <h2 class="text-xl font-semibold mb-2">Deine öffentliche IP-Adresse</h2>
            <div id="ip-display" class="text-4xl font-mono font-bold tracking-wider my-4">
                Laden... <i class="fas fa-spinner fa-spin text-2xl"></i>
            </div>
            <p class="text-blue-200 text-sm">
                *Hinweis: Dies wird über eine externe API abgerufen, da JS die IP nicht lokal kennt.
            </p>
        </div>

        <!-- Grid Layout for Details -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Browser Info -->
            <div class="bg-white rounded-lg shadow p-6 info-card border-l-4 border-orange-500">
                <div class="flex items-center mb-4">
                    <div class="bg-orange-100 p-3 rounded-full mr-3">
                        <i class="fas fa-globe text-orange-500 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-gray-700">Browser</h3>
                </div>
                <ul class="space-y-3">
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Name (Erkannt):</span>
                        <span id="browser-name" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Sprache:</span>
                        <span id="browser-lang" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Cookies aktiviert:</span>
                        <span id="cookies-enabled" class="font-semibold text-gray-800">...</span>
                    </li>
                </ul>
            </div>

            <!-- OS & Hardware Info -->
            <div class="bg-white rounded-lg shadow p-6 info-card border-l-4 border-green-500">
                <div class="flex items-center mb-4">
                    <div class="bg-green-100 p-3 rounded-full mr-3">
                        <i class="fas fa-desktop text-green-500 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-gray-700">Betriebssystem & Hardware</h3>
                </div>
                <ul class="space-y-3">
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">OS (Plattform):</span>
                        <span id="os-platform" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">CPU Kerne (Logisch):</span>
                        <span id="cpu-cores" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">RAM (ca.):</span>
                        <span id="device-memory" class="font-semibold text-gray-800">...</span>
                    </li>
                </ul>
            </div>

            <!-- Screen Info -->
            <div class="bg-white rounded-lg shadow p-6 info-card border-l-4 border-purple-500">
                <div class="flex items-center mb-4">
                    <div class="bg-purple-100 p-3 rounded-full mr-3">
                        <i class="fas fa-ruler-combined text-purple-500 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-gray-700">Bildschirm & Fenster</h3>
                </div>
                <ul class="space-y-3">
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Bildschirmauflösung:</span>
                        <span id="screen-res" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Fenstergröße (Innen):</span>
                        <span id="window-size" class="font-semibold text-gray-800">...</span>
                    </li>
                    <li class="flex justify-between border-b pb-2">
                        <span class="text-gray-500">Farbtiefe:</span>
                        <span id="color-depth" class="font-semibold text-gray-800">...</span>
                    </li>
                </ul>
            </div>

            <!-- Technical Raw Data -->
            <div class="bg-white rounded-lg shadow p-6 info-card border-l-4 border-gray-500">
                <div class="flex items-center mb-4">
                    <div class="bg-gray-100 p-3 rounded-full mr-3">
                        <i class="fas fa-code text-gray-500 text-xl"></i>
                    </div>
                    <h3 class="font-bold text-gray-700">Raw User Agent</h3>
                </div>
                <p class="text-xs text-gray-500 mb-2">Das ist der "Fingerabdruck", den dein Browser sendet:</p>
                <div id="raw-ua" class="bg-gray-800 text-green-400 p-3 rounded font-mono text-xs break-all">
                    ...
                </div>
            </div>

        </div>
        
        <div class="text-center mt-8 text-gray-400 text-sm">
            Erstellt für Fynn zur Demo | JavaScript APIs
        </div>
    </div>

    <script>
        // 1. IP Adresse holen (Benötigt einen externen Dienst/API)
        // Wir nutzen hier ipify.org, da JS die öffentliche IP nicht lokal kennt.
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                document.getElementById('ip-display').innerText = data.ip;
            })
            .catch(error => {
                document.getElementById('ip-display').innerHTML = '<span class="text-red-300 text-base">Konnte IP nicht laden (Adblocker?)</span>';
                console.error('IP Fetch Error:', error);
            });

        // 2. Browser Infos
        // Der UserAgent String ist oft verwirrend (Chrome gibt sich oft als Mozilla aus etc.)
        const ua = navigator.userAgent;
        document.getElementById('raw-ua').innerText = ua;
        
        // Einfache Browser Erkennung
        let browserName = "Unbekannt";
        if (ua.indexOf("Firefox") > -1) { browserName = "Mozilla Firefox"; }
        else if (ua.indexOf("SamsungBrowser") > -1) { browserName = "Samsung Internet"; }
        else if (ua.indexOf("Opera") > -1 || ua.indexOf("OPR") > -1) { browserName = "Opera"; }
        else if (ua.indexOf("Trident") > -1) { browserName = "Microsoft Internet Explorer"; }
        else if (ua.indexOf("Edge") > -1) { browserName = "Microsoft Edge"; }
        else if (ua.indexOf("Chrome") > -1) { browserName = "Google Chrome / Chromium"; }
        else if (ua.indexOf("Safari") > -1) { browserName = "Apple Safari"; }

        document.getElementById('browser-name').innerText = browserName;
        document.getElementById('browser-lang').innerText = navigator.language;
        document.getElementById('cookies-enabled').innerText = navigator.cookieEnabled ? "Ja" : "Nein";

        // 3. OS & Hardware
        // platform ist veraltet, aber oft noch nützlich. Besser ist navigator.userAgentData (aber nicht überall verfügbar)
        let osInfo = navigator.platform; 
        // Versuch einer schöneren Darstellung
        if(ua.indexOf("Win") !== -1) osInfo = "Windows";
        if(ua.indexOf("Mac") !== -1) osInfo = "macOS";
        if(ua.indexOf("Linux") !== -1) osInfo = "Linux";
        if(ua.indexOf("Android") !== -1) osInfo = "Android";
        if(ua.indexOf("like Mac") !== -1) osInfo = "iOS";

        document.getElementById('os-platform').innerText = osInfo;
        document.getElementById('cpu-cores').innerText = navigator.hardwareConcurrency || "N/A";
        // deviceMemory ist experimentell und meist nur in Chrome verfügbar
        document.getElementById('device-memory').innerText = navigator.deviceMemory ? `~${navigator.deviceMemory} GB` : "Nicht verfügbar";

        // 4. Screen Info
        document.getElementById('screen-res').innerText = `${window.screen.width} x ${window.screen.height} px`;
        
        function updateWindowSize() {
            document.getElementById('window-size').innerText = `${window.innerWidth} x ${window.innerHeight} px`;
        }
        updateWindowSize();
        window.onresize = updateWindowSize; // Live Update beim Ändern der Größe

        document.getElementById('color-depth').innerText = `${window.screen.colorDepth}-bit`;

    </script>
</body>
</html>